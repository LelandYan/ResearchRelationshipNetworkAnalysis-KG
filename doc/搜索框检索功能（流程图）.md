搜索框检索功能的流程：

1. 判断是搜索的字段的类型{author、study fileds、key words}
   1. 如果搜索的字段类型author，判断字段是否是拼音、英文或者汉字。
      1. 如果搜索字段是拼音并且不是汉字的话，判断搜索字段字符串中是否有空格，借此来判断是否需要分词
         1. 如果搜索字段中没有包含空格，则使用我们的分词功能，并格式化搜索字段
         2. 如果搜索字段中包含空格，只需要格式化搜索字段
      2. 如果搜索字段是汉字，则会转化为格式化后的拼音。
      3. 如果搜索字段是英文，则会直接保存字段。
   2. 如果搜索的字段类型study fileds，判断字段是否已经格式化。
      1. 如果搜索字段中没有包含空格，则使用我们的分词功能，针对分词后的每个单词进行单词纠错，将单词变为最可能搜索的单词，最后格式化搜索字段
      2. 如果搜索字段中包含空格，则使用我们的纠错功能，最后格式化搜索字段
   3. 如果搜索的字段类型key words，我们首先针对整个字段进行纠错功能，然后是针对纠错后的字段进行分词功能，在对每个分词后的单词分别进行纠错。

![](C:\Users\27215\Desktop\my_notes\毕设\26.png)